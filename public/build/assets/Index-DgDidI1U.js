import{x as _,j as U,g as r,o,a as u,d as i,h as z,w as c,b as e,i as d,k as C,F as M,p as T,t as a,H as j,v as A,n as D,q as $,f as p,l as v,s as V,c as O}from"./app-C9rhqjBO.js";import{_ as E}from"./AuthenticatedLayout-Ck4Ne3w5.js";const I={class:"flex items-center justify-between"},Y={class:"flex space-x-3"},q={class:"py-8"},G={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},R={class:"bg-fleet-darker border border-fleet-accent/20 rounded-xl p-6 mb-8"},X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},J=["value"],K={class:"flex items-end"},Q={class:"flex items-center space-x-2 cursor-pointer"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Z={class:"bg-fleet-darker border border-fleet-accent/20 rounded-xl p-6 hover:border-fleet-accent/40 transition-all duration-300 glow-follow group"},ee={class:"flex items-start justify-between mb-4"},te={class:"flex-1"},se={class:"text-lg font-semibold text-fleet-text group-hover:text-fleet-accent transition-colors"},le={key:0,class:"text-fleet-text-muted text-sm mt-1 line-clamp-2"},oe={class:"flex items-center space-x-2 ml-4"},re=["onClick"],ne={key:0,class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},ae={class:"space-y-3"},ie={key:0,class:"flex items-center space-x-2"},de={class:"text-fleet-text-muted text-sm"},ue={key:1,class:"flex items-center space-x-2"},ce={key:0,class:"ml-1"},fe={key:1,class:"ml-1"},xe={class:"flex items-center space-x-2"},me={class:"text-fleet-text-muted text-sm"},ge={class:"mt-6 flex items-center justify-between"},pe={class:"flex space-x-2"},ve=["onClick"],be={class:"text-xs text-fleet-text-muted"},he={key:0,class:"text-center py-12"},ye={key:1,class:"mt-8 flex justify-center"},we={class:"flex space-x-2"},Ce={__name:"Index",props:{tasks:Object,categories:Array,filters:Object},setup(f){const x=f,b=_(x.filters.category||""),h=_(x.filters.status||""),y=_(x.filters.priority||""),w=_(!!x.filters.due_soon||!1),B=U(()=>x.tasks.data),F=l=>{switch(l){case 3:return"text-fleet-danger border-fleet-danger bg-fleet-danger/10";case 2:return"text-fleet-warning border-fleet-warning bg-fleet-warning/10";case 1:return"text-fleet-success border-fleet-success bg-fleet-success/10";default:return"text-fleet-text-muted border-fleet-text-muted bg-fleet-text-muted/10"}},L=l=>{switch(l){case 3:return"High";case 2:return"Medium";case 1:return"Low";default:return"Unknown"}},H=l=>l?new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",S=l=>{if(!l)return!1;const n=new Date(l)-new Date,g=Math.ceil(n/(1e3*60*60*24));return g<=3&&g>=0},k=l=>l?new Date(l)<new Date:!1,N=l=>{V.patch(route("tasks.toggle",l.id),{},{preserveState:!0,preserveScroll:!0})},m=()=>{V.get(route("tasks.index"),{category:b.value,status:h.value,priority:y.value,due_soon:w.value},{preserveState:!0,replace:!0})},P=()=>{b.value="",h.value="",y.value="",w.value=!1,m()};return(l,t)=>(o(),r(M,null,[u(i(z),{title:"Tasks"}),u(E,null,{header:c(()=>[e("div",I,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-fleet-text"},"Task Management"),e("p",{class:"text-fleet-text-muted mt-1"},"Manage your fleet operations tasks")],-1)),e("div",Y,[u(i(v),{href:l.route("tasks.export"),class:"bg-fleet-darker border border-fleet-accent/20 hover:border-fleet-accent/40 text-fleet-text px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:bg-fleet-accent/10"},{default:c(()=>[...t[5]||(t[5]=[p(" Export CSV ",-1)])]),_:1},8,["href"]),u(i(v),{href:l.route("tasks.create"),class:"bg-fleet-accent hover:bg-fleet-accent-light text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:shadow-lg hover:shadow-fleet-accent/25"},{default:c(()=>[...t[6]||(t[6]=[p(" + New Task ",-1)])]),_:1},8,["href"])])])]),default:c(()=>[e("div",q,[e("div",G,[e("div",R,[e("div",X,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-fleet-text mb-2"},"Category",-1)),C(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),class:"w-full px-4 py-2 bg-fleet-dark border border-fleet-accent/20 rounded-lg text-fleet-text focus:border-fleet-accent focus:ring-2 focus:ring-fleet-accent/20 focus:outline-none transition-all duration-200",onChange:m},[t[8]||(t[8]=e("option",{value:""},"All Categories",-1)),(o(!0),r(M,null,T(f.categories,s=>(o(),r("option",{key:s.id,value:s.id},a(s.name),9,J))),128))],544),[[j,b.value]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-fleet-text mb-2"},"Status",-1)),C(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),class:"w-full px-4 py-2 bg-fleet-dark border border-fleet-accent/20 rounded-lg text-fleet-text focus:border-fleet-accent focus:ring-2 focus:ring-fleet-accent/20 focus:outline-none transition-all duration-200",onChange:m},[...t[10]||(t[10]=[e("option",{value:""},"All Tasks",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"completed"},"Completed",-1)])],544),[[j,h.value]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-fleet-text mb-2"},"Priority",-1)),C(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>y.value=s),class:"w-full px-4 py-2 bg-fleet-dark border border-fleet-accent/20 rounded-lg text-fleet-text focus:border-fleet-accent focus:ring-2 focus:ring-fleet-accent/20 focus:outline-none transition-all duration-200",onChange:m},[...t[12]||(t[12]=[e("option",{value:""},"All",-1),e("option",{value:"3"},"High",-1),e("option",{value:"2"},"Medium",-1),e("option",{value:"1"},"Low",-1)])],544),[[j,y.value]])]),e("div",K,[e("label",Q,[C(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>w.value=s),type:"checkbox",class:"w-4 h-4 text-fleet-accent bg-fleet-dark border-fleet-accent/20 rounded focus:ring-fleet-accent/20 focus:ring-2",onChange:m},null,544),[[A,w.value]]),t[14]||(t[14]=e("span",{class:"text-sm font-medium text-fleet-text"},"Due Soon",-1))])])]),e("div",{class:"mt-4 flex justify-end"},[e("button",{onClick:P,class:"text-fleet-accent hover:text-fleet-accent-light text-sm font-medium transition-colors"}," Clear Filters ")])]),e("div",W,[(o(!0),r(M,null,T(B.value,s=>(o(),r("div",{class:"glow-wrap",onMousemove:t[4]||(t[4]=n=>{const g=n.currentTarget.getBoundingClientRect();n.currentTarget.style.setProperty("--gx",`${n.clientX-g.left}px`),n.currentTarget.style.setProperty("--gy",`${n.clientY-g.top}px`)}),key:s.id},[e("div",Z,[e("div",ee,[e("div",te,[e("h3",se,a(s.title),1),s.description?(o(),r("p",le,a(s.description),1)):d("",!0)]),e("div",oe,[e("span",{class:D([F(s.priority),"px-2 py-1 rounded-full text-xs font-medium border"])},a(L(s.priority)),3),e("button",{onClick:n=>N(s),class:D([s.is_completed?"bg-fleet-success":"bg-fleet-dark border border-fleet-accent/20","w-6 h-6 rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110"])},[s.is_completed?(o(),r("svg",ne,[...t[15]||(t[15]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):d("",!0)],10,re)])]),e("div",ae,[s.category?(o(),r("div",ie,[e("div",{class:"w-3 h-3 rounded-full",style:$({backgroundColor:s.category.color})},null,4),e("span",de,a(s.category.name),1)])):d("",!0),s.due_date?(o(),r("div",ue,[t[16]||(t[16]=e("svg",{class:"w-4 h-4 text-fleet-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",{class:D([{"text-fleet-danger":k(s.due_date),"text-fleet-warning":S(s.due_date)&&!k(s.due_date),"text-fleet-text-muted":!S(s.due_date)&&!k(s.due_date)},"text-sm font-medium"])},[p(a(H(s.due_date))+" ",1),k(s.due_date)?(o(),r("span",ce,"(Overdue)")):S(s.due_date)?(o(),r("span",fe,"(Due Soon)")):d("",!0)],2)])):d("",!0),e("div",xe,[t[17]||(t[17]=e("svg",{class:"w-4 h-4 text-fleet-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",me," Created "+a(new Date(s.created_at).toLocaleDateString()),1)])]),e("div",ge,[e("div",pe,[u(i(v),{href:l.route("tasks.edit",s.id),class:"text-fleet-accent hover:text-fleet-accent-light text-sm font-medium transition-colors"},{default:c(()=>[...t[18]||(t[18]=[p(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:n=>i(V).delete(l.route("tasks.destroy",s.id),{onBefore:()=>l.confirm("Are you sure you want to delete this task?")}),class:"text-fleet-danger hover:text-red-400 text-sm font-medium transition-colors"}," Delete ",8,ve)]),e("div",be," ID: "+a(s.id),1)])])],32))),128))]),B.value.length===0?(o(),r("div",he,[t[20]||(t[20]=e("div",{class:"w-24 h-24 bg-fleet-accent/10 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-12 h-12 text-fleet-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-fleet-text mb-2"},"No tasks found",-1)),t[22]||(t[22]=e("p",{class:"text-fleet-text-muted mb-6"},"Get started by creating your first task.",-1)),u(i(v),{href:l.route("tasks.create"),class:"bg-fleet-accent hover:bg-fleet-accent-light text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:shadow-lg hover:shadow-fleet-accent/25"},{default:c(()=>[...t[19]||(t[19]=[p(" Create Your First Task ",-1)])]),_:1},8,["href"])])):d("",!0),f.tasks.links&&f.tasks.links.length>3?(o(),r("div",ye,[e("nav",we,[(o(!0),r(M,null,T(f.tasks.links,s=>(o(),O(i(v),{key:s.label,href:s.url,innerHTML:s.label,class:D([{"bg-fleet-accent text-white":s.active,"bg-fleet-darker text-fleet-text hover:bg-fleet-accent/10":!s.active,"pointer-events-none opacity-50":!s.url},"px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200"])},null,8,["href","innerHTML","class"]))),128))])])):d("",!0)])])]),_:1})],64))}};export{Ce as default};
