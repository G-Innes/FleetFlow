import{p as y,h as H,f as r,o,a as i,u as a,Z as A,w as u,b as e,g as d,i as k,k as O,F as _,l as M,t as n,D as B,v as E,n as C,m as I,e as m,j as g,N as j,c as P}from"./app-U949M7FG.js";import{_ as $}from"./AuthenticatedLayout-DojVYN3M.js";const G={class:"flex items-center justify-between"},Y={class:"flex space-x-3"},Z={class:"py-8"},q={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},J={class:"bg-fleet-darker border border-fleet-accent/20 rounded-xl p-6 mb-8"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Q=["value"],R={class:"flex items-end"},W={class:"flex items-center space-x-2 cursor-pointer"},X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ee={class:"flex items-start justify-between mb-4"},te={class:"flex-1"},se={class:"text-lg font-semibold text-fleet-text group-hover:text-fleet-accent transition-colors"},le={key:0,class:"text-fleet-text-muted text-sm mt-1 line-clamp-2"},oe={class:"flex items-center space-x-2 ml-4"},re=["onClick"],ne={key:0,class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},ae={class:"space-y-3"},de={key:0,class:"flex items-center space-x-2"},ie={class:"text-fleet-text-muted text-sm"},ue={key:1,class:"flex items-center space-x-2"},ce={key:0,class:"ml-1"},fe={key:1,class:"ml-1"},xe={class:"flex items-center space-x-2"},me={class:"text-fleet-text-muted text-sm"},ge={class:"mt-6 flex items-center justify-between"},ve={class:"flex space-x-2"},pe=["onClick"],he={class:"text-xs text-fleet-text-muted"},be={key:0,class:"text-center py-12"},we={key:1,class:"mt-8 flex justify-center"},ye={class:"flex space-x-2"},Ce={__name:"Index",props:{tasks:Object,categories:Array,filters:Object},setup(c){const f=c,v=y(f.filters.search||""),p=y(f.filters.category||""),h=y(f.filters.status||""),b=y(f.filters.due_soon||!1),V=H(()=>f.tasks.data),F=l=>{switch(l){case 3:return"text-fleet-danger border-fleet-danger bg-fleet-danger/10";case 2:return"text-fleet-warning border-fleet-warning bg-fleet-warning/10";case 1:return"text-fleet-success border-fleet-success bg-fleet-success/10";default:return"text-fleet-text-muted border-fleet-text-muted bg-fleet-text-muted/10"}},N=l=>{switch(l){case 3:return"High";case 2:return"Medium";case 1:return"Low";default:return"Unknown"}},L=l=>l?new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",S=l=>{if(!l)return!1;const D=new Date(l)-new Date,T=Math.ceil(D/(1e3*60*60*24));return T<=3&&T>=0},w=l=>l?new Date(l)<new Date:!1,U=l=>{j.patch(route("tasks.toggle",l.id),{},{preserveState:!0,preserveScroll:!0})},x=()=>{j.get(route("tasks.index"),{search:v.value,category:p.value,status:h.value,due_soon:b.value},{preserveState:!0,replace:!0})},z=()=>{v.value="",p.value="",h.value="",b.value=!1,x()};return(l,s)=>(o(),r(_,null,[i(a(A),{title:"Tasks"}),i($,null,{header:u(()=>[e("div",G,[s[6]||(s[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-fleet-text"},"Task Management"),e("p",{class:"text-fleet-text-muted mt-1"},"Manage your fleet operations tasks")],-1)),e("div",Y,[i(a(g),{href:l.route("tasks.export"),class:"bg-fleet-darker border border-fleet-accent/20 hover:border-fleet-accent/40 text-fleet-text px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:bg-fleet-accent/10"},{default:u(()=>[...s[4]||(s[4]=[m(" Export CSV ",-1)])]),_:1},8,["href"]),i(a(g),{href:l.route("tasks.create"),class:"bg-fleet-accent hover:bg-fleet-accent-light text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:shadow-lg hover:shadow-fleet-accent/25"},{default:u(()=>[...s[5]||(s[5]=[m(" + New Task ",-1)])]),_:1},8,["href"])])])]),default:u(()=>[e("div",Z,[e("div",q,[e("div",J,[e("div",K,[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-fleet-text mb-2"},"Search",-1)),k(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>v.value=t),type:"text",placeholder:"Search tasks...",class:"w-full px-4 py-2 bg-fleet-dark border border-fleet-accent/20 rounded-lg text-fleet-text placeholder-fleet-text-muted focus:border-fleet-accent focus:ring-2 focus:ring-fleet-accent/20 focus:outline-none transition-all duration-200",onInput:x},null,544),[[O,v.value]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-fleet-text mb-2"},"Category",-1)),k(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>p.value=t),class:"w-full px-4 py-2 bg-fleet-dark border border-fleet-accent/20 rounded-lg text-fleet-text focus:border-fleet-accent focus:ring-2 focus:ring-fleet-accent/20 focus:outline-none transition-all duration-200",onChange:x},[s[8]||(s[8]=e("option",{value:""},"All Categories",-1)),(o(!0),r(_,null,M(c.categories,t=>(o(),r("option",{key:t.id,value:t.id},n(t.name),9,Q))),128))],544),[[B,p.value]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-fleet-text mb-2"},"Status",-1)),k(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>h.value=t),class:"w-full px-4 py-2 bg-fleet-dark border border-fleet-accent/20 rounded-lg text-fleet-text focus:border-fleet-accent focus:ring-2 focus:ring-fleet-accent/20 focus:outline-none transition-all duration-200",onChange:x},[...s[10]||(s[10]=[e("option",{value:""},"All Tasks",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"completed"},"Completed",-1)])],544),[[B,h.value]])]),e("div",R,[e("label",W,[k(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>b.value=t),type:"checkbox",class:"w-4 h-4 text-fleet-accent bg-fleet-dark border-fleet-accent/20 rounded focus:ring-fleet-accent/20 focus:ring-2",onChange:x},null,544),[[E,b.value]]),s[12]||(s[12]=e("span",{class:"text-sm font-medium text-fleet-text"},"Due Soon",-1))])])]),e("div",{class:"mt-4 flex justify-end"},[e("button",{onClick:z,class:"text-fleet-accent hover:text-fleet-accent-light text-sm font-medium transition-colors"}," Clear Filters ")])]),e("div",X,[(o(!0),r(_,null,M(V.value,t=>(o(),r("div",{key:t.id,class:"bg-fleet-darker border border-fleet-accent/20 rounded-xl p-6 hover:border-fleet-accent/40 transition-all duration-300 hover:shadow-lg hover:shadow-fleet-accent/10 group"},[e("div",ee,[e("div",te,[e("h3",se,n(t.title),1),t.description?(o(),r("p",le,n(t.description),1)):d("",!0)]),e("div",oe,[e("span",{class:C([F(t.priority),"px-2 py-1 rounded-full text-xs font-medium border"])},n(N(t.priority)),3),e("button",{onClick:D=>U(t),class:C([t.is_completed?"bg-fleet-success":"bg-fleet-dark border border-fleet-accent/20","w-6 h-6 rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110"])},[t.is_completed?(o(),r("svg",ne,[...s[13]||(s[13]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):d("",!0)],10,re)])]),e("div",ae,[t.category?(o(),r("div",de,[e("div",{class:"w-3 h-3 rounded-full",style:I({backgroundColor:t.category.color})},null,4),e("span",ie,n(t.category.name),1)])):d("",!0),t.due_date?(o(),r("div",ue,[s[14]||(s[14]=e("svg",{class:"w-4 h-4 text-fleet-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",{class:C([{"text-fleet-danger":w(t.due_date),"text-fleet-warning":S(t.due_date)&&!w(t.due_date),"text-fleet-text-muted":!S(t.due_date)&&!w(t.due_date)},"text-sm font-medium"])},[m(n(L(t.due_date))+" ",1),w(t.due_date)?(o(),r("span",ce,"(Overdue)")):S(t.due_date)?(o(),r("span",fe,"(Due Soon)")):d("",!0)],2)])):d("",!0),e("div",xe,[s[15]||(s[15]=e("svg",{class:"w-4 h-4 text-fleet-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",me," Created "+n(new Date(t.created_at).toLocaleDateString()),1)])]),e("div",ge,[e("div",ve,[i(a(g),{href:l.route("tasks.edit",t.id),class:"text-fleet-accent hover:text-fleet-accent-light text-sm font-medium transition-colors"},{default:u(()=>[...s[16]||(s[16]=[m(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:D=>a(j).delete(l.route("tasks.destroy",t.id),{onBefore:()=>l.confirm("Are you sure you want to delete this task?")}),class:"text-fleet-danger hover:text-red-400 text-sm font-medium transition-colors"}," Delete ",8,pe)]),e("div",he," ID: "+n(t.id),1)])]))),128))]),V.value.length===0?(o(),r("div",be,[s[18]||(s[18]=e("div",{class:"w-24 h-24 bg-fleet-accent/10 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-12 h-12 text-fleet-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),s[19]||(s[19]=e("h3",{class:"text-xl font-semibold text-fleet-text mb-2"},"No tasks found",-1)),s[20]||(s[20]=e("p",{class:"text-fleet-text-muted mb-6"},"Get started by creating your first task.",-1)),i(a(g),{href:l.route("tasks.create"),class:"bg-fleet-accent hover:bg-fleet-accent-light text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 hover:shadow-lg hover:shadow-fleet-accent/25"},{default:u(()=>[...s[17]||(s[17]=[m(" Create Your First Task ",-1)])]),_:1},8,["href"])])):d("",!0),c.tasks.links&&c.tasks.links.length>3?(o(),r("div",we,[e("nav",ye,[(o(!0),r(_,null,M(c.tasks.links,t=>(o(),P(a(g),{key:t.label,href:t.url,innerHTML:t.label,class:C([{"bg-fleet-accent text-white":t.active,"bg-fleet-darker text-fleet-text hover:bg-fleet-accent/10":!t.active,"pointer-events-none opacity-50":!t.url},"px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200"])},null,8,["href","innerHTML","class"]))),128))])])):d("",!0)])])]),_:1})],64))}};export{Ce as default};
